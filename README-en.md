# Kindle Dashboard

[‰∏≠Êñá](README.md)

A simple KUAL extension that turns your jailbroken Kindle into a low-power e-ink dashboard. It periodically downloads an image from a specified URL and displays it on the screen.

## ‚ú® Features

*   **Exclusive Mode**: Automatically stops the native Kindle Framework to prevent interface interference or sleep mode, taking full control of the screen.
*   **Auto Connectivity**: Forces WiFi to wake up before each update to ensure successful image downloads.
*   **Scheduled Refresh**: Configurable refresh interval (default is 1 hour).
*   **High-Quality Rendering**: Integrates [FBInk](https://github.com/NiLuJe/FBInk) supporting high-quality waveform refresh (GC16) to minimize ghosting.
*   **Error Handling**: Displays an onscreen error message if the network request fails, rather than staying black or freezing.
*   **Image Processing Tool**: Includes a Python script to convert standard images into 16-level grayscale dithered images optimized for Kindle displays.

## üõ†Ô∏è Prerequisites

1.  **Jailbroken Kindle**.
2.  **KUAL** (Kindle Unified Application Launcher) installed.

## üì• Installation

1.  Copy the `extensions` folder from this project to the root directory of your Kindle.
    *   Merge folders if prompted.
    *   The final path structure should be: `Kindle_Root_Drive/extensions/Kindle-Dashboard/...`
2.  Eject/Disconnect the USB cable.

## ‚öôÔ∏è Configuration

The default configuration is located in `extensions/Kindle-Dashboard/bin/run_daemon.sh`. You need to modify the following variables:

```bash
# Image URL (Change this to your actual server address)
IMG_URL="https://your-server.com/dashboard.png"

# Refresh Interval (seconds), default is 3600 seconds (1 hour)
INTERVAL=3600
```

**Tip**: Ensure the image generated by your server matches your Kindle's screen resolution (e.g., 1264x1680 for Kindle Oasis 2/3) for the best display results.

## üöÄ Usage

1.  Open **KUAL** on your Kindle.
2.  Tap on the **Kindle-Dashboard** menu.
3.  Tap **Start Dashboard (No GUI)**.
4.  The native Kindle interface will disappear, and the screen will start refreshing with your dashboard image.

> **‚ö†Ô∏è Note**: During startup, the screen may flash multiple times, and you might see some temporary error messages (the script is cleaning up background processes). This is normal behavior. Please wait for about **1 minute** for the service to fully start.

**Verified Device**: This project has been tested on **Kindle Oasis 2**.

**How to Exit?**
Since the script kills the native Framework (`stop framework`), you need to **long-press the Kindle power button** to restart the device and restore normal reading mode.

## üñºÔ∏è Image Conversion Tool

To achieve the best display quality on E-Ink screens (avoiding severe banding), it is recommended to use the provided `convert_kindle_image.py` script to process your images.

This script automatically:
1.  Resizes the image to target resolution (default 1264x1680).
2.  Converts distinct colors to 16-level grayscale.
3.  Applies Floyd-Steinberg dithering.

**Install Dependencies:**
```bash
pip install pillow
```

**Usage:**
```bash
python convert_kindle_image.py your_image.png
# Output file will be named: your_image_k_fixed.png
```

## üìú Credits & Acknowledgments

*   **FBInk**: This project uses the `FBInk` tool for screen refreshing.
    *   File path: `extensions/Kindle-Dashboard/bin/fbink`
    *   This binary is compiled from: [https://github.com/NiLuJe/FBInk](https://github.com/NiLuJe/FBInk)
    *   Special thanks to **NiLuJe** for developing this powerful E-Ink screen control library.

## ‚ö†Ô∏è Disclaimer

This project requires a jailbroken device and modifies system processes. While generally safe, please modify your system at your own risk. The author is not responsible for any device damage.
